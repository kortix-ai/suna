# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Suna AI - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## üéØ –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±—ç–∫–µ–Ω–¥—É –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ `.env`.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –≤ 3 —à–∞–≥–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `frontend/.env`

```bash
cd frontend
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
NEXT_PUBLIC_ENV_MODE="local"
NEXT_PUBLIC_URL="http://localhost:3000"

# –í–ê–ñ–ù–û: –ë—ç–∫–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å /api!
NEXT_PUBLIC_BACKEND_URL="http://localhost:8000/api"

# –ü–æ–ª—É—á–∏—Ç–µ –∏–∑ https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`

```bash
cd backend
cp .env.example .env
nano .env
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```env
ENV_MODE=local

# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Redis (–ª–æ–∫–∞–ª—å–Ω–æ)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_SSL=false

# –ú–∏–Ω–∏–º—É–º –æ–¥–∏–Ω LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä
OPENAI_API_KEY=sk-...
# –∏–ª–∏
ANTHROPIC_API_KEY=sk-ant-...

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
TAVILY_API_KEY=tvly-...
FIRECRAWL_API_KEY=fc-...
RAPID_API_KEY=...
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

#### –í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend:**
```bash
cd backend
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
python api.py
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend:**
```bash
cd frontend
npm install  # –∏–ª–∏: pnpm install (–±—ã—Å—Ç—Ä–µ–µ!)
npm run dev
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Docker Compose

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose -f docker-compose.dev.yml up
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
./check_connection.sh
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é:

1. **–ë—ç–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω:**
   ```bash
   curl http://localhost:8000/api/health
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"status":"ok"}`

2. **Swagger UI:**
   –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/docs

3. **–§—Ä–æ–Ω—Ç–µ–Ω–¥:**
   –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
   
4. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):**
   –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ `Failed to fetch` –∏–ª–∏ `CORS`

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞

–°–±–æ—Ä–∫–∞ Next.js –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å 5-15 –º–∏–Ω—É—Ç –∏–∑-–∑–∞:
- –ë–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- TypeScript –ø—Ä–æ–≤–µ—Ä–æ–∫
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ source maps

### –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
./optimize_build.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `next.config.ts`
2. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç `.npmrc` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
3. ‚úÖ –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–∞–º—è—Ç—å Node.js
4. ‚úÖ –û—Ç–∫–ª—é—á–∞–µ—Ç source maps –¥–ª—è production
5. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pnpm –≤–º–µ—Å—Ç–æ npm

```bash
npm install -g pnpm
cd frontend
pnpm install  # –í 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ npm!
pnpm build
```

#### 2. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Turbopack

```bash
npm run dev  # –£–∂–µ –≤–∫–ª—é—á–µ–Ω --turbopack
```

#### 3. –£–≤–µ–ª–∏—á—å—Ç–µ –ø–∞–º—è—Ç—å Node.js

```bash
export NODE_OPTIONS="--max-old-space-size=4096"
npm run build
```

#### 4. –û—Ç–∫–ª—é—á–∏—Ç–µ source maps

–í `frontend/.env.production`:
```env
NEXT_DISABLE_SOURCEMAPS=true
```

## üêõ –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞: "Failed to fetch" –≤ –∫–æ–Ω—Å–æ–ª–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –±—ç–∫–µ–Ω–¥–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `NEXT_PUBLIC_BACKEND_URL` –≤ `frontend/.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω: `curl http://localhost:8000/api/health`
3. **–í–ê–ñ–ù–û:** –ë—ç–∫–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å `/api`, –ø–æ—ç—Ç–æ–º—É URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
   ```
   NEXT_PUBLIC_BACKEND_URL="http://localhost:8000/api"
   ```

### –û—à–∏–±–∫–∞: "CORS policy blocked"

**–ü—Ä–∏—á–∏–Ω–∞:** –ë—ç–∫–µ–Ω–¥ –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–†–µ—à–µ–Ω–∏–µ:**
–ë—ç–∫–µ–Ω–¥ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è `localhost:3000`, –Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ë—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ `ENV_MODE=local`
2. –í `backend/api.py` –µ—Å—Ç—å CORS middleware (—É–∂–µ –µ—Å—Ç—å)

### –û—à–∏–±–∫–∞: "Supabase client error"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ Supabase

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ https://supabase.com
2. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ –∏–∑ Settings ‚Üí API
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤ –æ–±–æ–∏—Ö `.env` —Ñ–∞–π–ª–∞—Ö:
   - `frontend/.env`: `NEXT_PUBLIC_SUPABASE_URL` –∏ `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `backend/.env`: `SUPABASE_URL`, `SUPABASE_ANON_KEY`, `SUPABASE_SERVICE_ROLE_KEY`

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./optimize_build.sh`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pnpm` –≤–º–µ—Å—Ç–æ `npm`
3. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run dev` (–Ω–µ `build`)
4. –£–≤–µ–ª–∏—á—å—Ç–µ –ø–∞–º—è—Ç—å: `export NODE_OPTIONS="--max-old-space-size=4096"`

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- ‚úÖ –ë—ç–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000
- ‚úÖ Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000/docs
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 2-5 –º–∏–Ω—É—Ç (—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏)

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
./check_connection.sh

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
./optimize_build.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞
curl http://localhost:8000/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
lsof -i :8000  # –ë—ç–∫–µ–Ω–¥
lsof -i :3000  # –§—Ä–æ–Ω—Ç–µ–Ω–¥
lsof -i :6379  # Redis

# –õ–æ–≥–∏ Docker
docker-compose -f docker-compose.dev.yml logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.dev.yml restart
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç:** `suna_fix_report.md`
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://github.com/kortix-ai/suna
- **Discord:** https://discord.gg/Py6pCBUUPw

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å, —Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –≤ `suna_fix_report.md`.
