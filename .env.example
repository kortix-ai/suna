# =============================
# Системные настройки (обязательные)
# =============================
# Режим окружения: local | staging | production
ENV_MODE=production

# URL фронтенда и бэкенда (используются редиректами и метаданными)
FRONTEND_URL=https://your-frontend.example.com
BACKEND_URL=https://your-backend.example.com

# Максимальное число параллельных запусков агентов (необязательно)
# MAX_PARALLEL_AGENT_RUNS=3


# =============================
# Supabase (обязательные)
# =============================
# Ключи проекта Supabase для бэкенда
SUPABASE_URL=https://your-supabase-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_JWT_SECRET=your-jwt-secret


# =============================
# Redis (рекомендовано)
# =============================
# Если используете управляемый Redis — укажите хост/порт и SSL при необходимости
REDIS_HOST=redis
REDIS_PORT=6380
# Порт на хосте для docker-compose (маппинг  <host>:6379)
REDIS_PORT_HOST=6380
REDIS_PASSWORD=
REDIS_SSL=false


# =============================
# Безопасность и доступ (рекомендовано)
# =============================
# Админский API ключ для заголовка `X-Admin-Api-Key`
# Если не задан — будет сгенерирован случайный, лучше задать явный для продакшена
KORTIX_ADMIN_API_KEY=your-admin-api-key

# Секрет для генерации и подписи пользовательских API-ключей
API_KEY_SECRET=your-api-key-secret

# Секрет для шифрования MCP-учетных данных
MCP_CREDENTIAL_ENCRYPTION_KEY=your-mcp-encryption-secret


# =============================
# Провайдеры LLM (минимум один, по желанию)
# =============================
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GEMINI_API_KEY=
GROQ_API_KEY=
OPENROUTER_API_KEY=

# Совместимый OpenAI API (если используете прокси)
OPENAI_COMPATIBLE_API_KEY=
OPENAI_COMPATIBLE_API_BASE=
OPENROUTER_API_BASE=


# =============================
# Интеграции и внешние сервисы (по необходимости)
# =============================
# Поиск и краулинг
TAVILY_API_KEY=
FIRECRAWL_API_KEY=
FIRECRAWL_URL=
SERPER_API_KEY=
EXA_API_KEY=
SEMANTIC_SCHOLAR_API_KEY=
CLOUDFLARE_API_TOKEN=
RAPID_API_KEY=

# Daytona (песочница для безопасного выполнения кода)
DAYTONA_API_KEY=
DAYTONA_SERVER_URL=
DAYTONA_TARGET=

# Компоузио (опционально)
COMPOSIO_API_KEY=
COMPOSIO_WEBHOOK_SECRET=

# Вебхуки для триггеров/интеграций
WEBHOOK_BASE_URL=
TRIGGER_WEBHOOK_SECRET=


# =============================
# Платежи (Stripe) — для production, можно пропустить в local
# =============================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Настройки продуктов/планов (обычно предзаданы в коде, меняйте при кастомизации)
STRIPE_DEFAULT_PLAN_ID=
STRIPE_DEFAULT_TRIAL_DAYS=14


# =============================
# Обсервация (Langfuse) — по желанию
# =============================
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_HOST=


# =============================
# Настройки фронтенда (Next.js)
# =============================
# Публичные переменные для Next.js
NEXT_PUBLIC_ENV_MODE=production
NEXT_PUBLIC_URL=https://your-frontend.example.com
NEXT_PUBLIC_BACKEND_URL=https://your-backend.example.com

# Supabase для фронтенда (публичные ключи)
NEXT_PUBLIC_SUPABASE_URL=https://your-supabase-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key


# =============================
# Примечания по Dokploy
# =============================
# 1) Создайте секреты/переменные окружения в Dokploy согласно данному шаблону.
# 2) Установите корректные `FRONTEND_URL` и `BACKEND_URL` для продакшен-домена.
# 3) Для отключения биллинга в self-hosted окружении можно выставить
#    NEXT_PUBLIC_ENV_MODE=local и ENV_MODE=local.
# 4) Для админ-доступа по ключу используйте заголовок `X-Admin-Api-Key`
#    со значением KORTIX_ADMIN_API_KEY.
